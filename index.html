<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­ã©ã‚‚ã‚µãƒãƒ¼ãƒˆãƒ»ãƒŠãƒ“ Professional Plus</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --mi-color: #ff7f7f; --ki-color: #ffb347; --ka-color: #76ba1b; --to-color: #4db8ff;
            --bg-color: #fdfbf7; --text: #444;
        }
        body { font-family: 'Zen Maru Gothic', sans-serif; background-color: var(--bg-color); color: var(--text); padding: 20px; display: flex; justify-content: center; }
        .container { max-width: 850px; width: 100%; background: white; padding: 30px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); border: 3px dashed #e0e0e0; }
        
        /* ã‚¿ãƒ– */
        .tab-menu { display: flex; gap: 8px; margin-bottom: 25px; flex-wrap: wrap; }
        .tab-btn { flex: 1; padding: 15px 10px; border: none; border-radius: 15px; cursor: pointer; font-weight: bold; background: #eee; transition: 0.3s; font-family: inherit; min-width: 120px; }
        .tab-btn.active { color: white; }
        .tab-btn[data-tab="mi"].active { background: var(--mi-color); }
        .tab-btn[data-tab="kishitsu"].active { background: var(--ki-color); }
        .tab-btn[data-tab="kankyo"].active { background: var(--ka-color); }
        .tab-btn[data-tab="total"].active { background: var(--to-color); }
        .tab-btn:disabled { opacity: 0.4; cursor: not-allowed; }

        .tab-content { display: none; animation: fadeIn 0.4s; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* è³ªå•ã‚¹ã‚¿ã‚¤ãƒ« */
        .question-scroll { max-height: 500px; overflow-y: auto; padding-right: 15px; margin-bottom: 20px; }
        .question-group { margin-bottom: 20px; background: #fff9f0; padding: 15px; border-radius: 15px; }
        .q-title { font-weight: bold; margin-bottom: 8px; display: block; color: #555; }
        label { display: block; margin: 8px 0; cursor: pointer; font-size: 0.95rem; line-height: 1.4; }
        
        .btn { width: 100%; padding: 18px; color: white; border: none; border-radius: 50px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 10px; box-shadow: 0 4px 0 rgba(0,0,0,0.1); transition: 0.2s; }
        .btn:active { transform: translateY(2px); box-shadow: none; }
        
        /* çµæœè¡¨ç¤º */
        .res-box { margin-top: 20px; padding: 20px; border-radius: 20px; display: none; border-left: 8px solid; }
        .mi-res { background: #fff0f0; border-color: var(--mi-color); }
        .ki-res { background: #fff7e6; border-color: var(--ki-color); }
        .ka-res { background: #f0f9eb; border-color: var(--ka-color); }
        .total-card { background: #eef9ff; border-radius: 20px; padding: 25px; border: 2px solid var(--to-color); }
        .summary-section { margin-bottom: 20px; background: white; padding: 15px; border-radius: 15px; box-shadow: inset 0 2px 5px rgba(0,0,0,0.02); }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸŒ± å­ã©ã‚‚ã‚µãƒãƒ¼ãƒˆãƒ»ãƒŠãƒ“</h1>
    
    <div class="tab-menu">
        <button class="tab-btn active" data-tab="mi">1. å¼·ã¿ (MI)</button>
        <button class="tab-btn" data-tab="kishitsu">2. æ°—è³ª</button>
        <button class="tab-btn" data-tab="kankyo">3. ç’°å¢ƒ</button>
        <button class="tab-btn" data-tab="total" id="total-tab-btn" disabled>ğŸ“Š ç·åˆè¨ºæ–­ (è¦å…¨å›ç­”)</button>
    </div>

    <div id="mi" class="tab-content active">
        <h3>ãŠå­ã•ã‚“ã®ã€Œãã‚‰ã‚Šã¨å…‰ã‚‹ã€éƒ¨åˆ†ã‚’é¸ã‚“ã§ã­</h3>
        <div class="question-scroll" id="mi-list">
            </div>
        <button class="btn" style="background: var(--mi-color);" onclick="analyzeMI()">å¼·ã¿ã®çµæœã‚’è¡¨ç¤º</button>
        <div id="mi-result" class="res-box mi-res"></div>
    </div>

    <div id="kishitsu" class="tab-content">
        <h3>ã€Œå¿ƒã®ã‚¨ãƒ³ã‚¸ãƒ³ã€ã®ã‚¯ã‚»ã‚’çŸ¥ã‚ã†</h3>
        <div class="question-scroll" id="ki-list">
            </div>
        <button class="btn" style="background: var(--ki-color);" onclick="analyzeKi()">æ°—è³ªã®çµæœã‚’è¡¨ç¤º</button>
        <div id="ki-result" class="res-box ki-res"></div>
    </div>

    <div id="kankyo" class="tab-content">
        <h3>éã”ã—ã‚„ã™ã•ã‚’é‚ªé­”ã—ã¦ã„ã‚‹ã‚‚ã®ã¯ï¼Ÿ</h3>
        <div class="question-scroll" id="ka-list">
            </div>
        <button class="btn" style="background: var(--ka-color);" onclick="analyzeKa()">ç’°å¢ƒã®çµæœã‚’è¡¨ç¤º</button>
        <div id="ka-result" class="res-box ka-res"></div>
    </div>

    <div id="total" class="tab-content">
        <div class="total-card">
            <h2 style="text-align: center; color: var(--to-color);">ğŸ“Š ã‚ªãƒ¼ãƒ€ãƒ¼ãƒ¡ã‚¤ãƒ‰ãƒ»ã‚µãƒãƒ¼ãƒˆ</h2>
            <div id="total-summary"></div>
            <button class="btn" style="background: var(--to-color); margin-top: 30px;" onclick="window.print()">ã“ã®çµæœã‚’å°åˆ·ãƒ»ä¿å­˜ã™ã‚‹</button>
        </div>
    </div>
</div>

<script>
// --- ãƒ‡ãƒ¼ã‚¿å®šç¾© (ã“ã“ã‚’æ›¸ãæ›ãˆã¦15å•ãšã¤ã«ã—ã¦ãã ã•ã„) ---
const miQuestions = [
    { cat: "éŸ³æ¥½", q: "ãƒ¡ãƒ­ãƒ‡ã‚£ã‚’ä¸€åº¦è´ãã¨ã™ãã«è¦šãˆã‚‹" },
    { cat: "éŸ³æ¥½", q: "ãƒªã‚ºãƒ ã«åˆã‚ã›ã¦ä½“ã‚’å‹•ã‹ã™ã®ãŒå¾—æ„" },
    { cat: "èº«ä½“", q: "ç´°ã‹ã„ä½œæ¥­ï¼ˆãƒ¬ã‚´ã‚„å·¥ä½œï¼‰ã«æ²¡é ­ã™ã‚‹" },
    { cat: "èº«ä½“", q: "åˆã‚ã¦è¦‹ã‚‹ã‚¹ãƒãƒ¼ãƒ„ã®å‹•ãã‚’ã™ãçœŸä¼¼ã§ãã‚‹" },
    { cat: "ç©ºé–“", q: "åœ°å›³ã‚„ãƒ‘ã‚ºãƒ«ãŒå¤§å¥½ãã§å¾—æ„" },
    { cat: "ç©ºé–“", q: "è‰²ä½¿ã„ãŒè±Šã‹ã§ã€çµµã®ä¸­ã«ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãŒã‚ã‚‹" },
    { cat: "è¨€èª", q: "é›£ã—ã„è¨€è‘‰ã‚’é¢ç™½ãŒã£ã¦ä½¿ã†" },
    { cat: "è¨€èª", q: "æœ¬ã‚’èª­ã¿å§‹ã‚ã‚‹ã¨æ­¢ã¾ã‚‰ãªã„" },
    { cat: "è«–ç†", q: "ã€Œãªãœï¼Ÿã€ã®ç†å±ˆãŒé€šã‚‰ãªã„ã¨ç´å¾—ã—ãªã„" },
    { cat: "è«–ç†", q: "æ•°å­—ã‚„æ™‚è¨ˆã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«å¼·ã„èˆˆå‘³ãŒã‚ã‚‹" },
    { cat: "åšç‰©", q: "è™«ã‚„æ¤ç‰©ã®åå‰ã‚’é©šãã»ã©çŸ¥ã£ã¦ã„ã‚‹" },
    { cat: "åšç‰©", q: "çŸ³ã‚„æœ¨ã®å®Ÿã‚’åé›†ãƒ»åˆ†é¡ã™ã‚‹ã®ãŒå¥½ã" },
    { cat: "å¯¾äºº", q: "å‹é”ãŒå›°ã£ã¦ã„ã‚‹ã¨ã™ãã«æ°—ã¥ã„ã¦å£°ã‚’ã‹ã‘ã‚‹" },
    { cat: "å¯¾äºº", q: "ãƒãƒ¼ãƒ ã§å”åŠ›ã™ã‚‹éŠã³ã‚’å¥½ã‚€" },
    { cat: "å†…çœ", q: "ä¸€äººã§è‡ªåˆ†ã®è€ƒãˆã«æ·±ãæ½œã‚‹æ™‚é–“ã‚’å¤§åˆ‡ã«ã™ã‚‹" }
];

const kiQuestions = [
    { id: "ki1", q: "æ–°ã—ã„ç’°å¢ƒã§ã¯ã€ã¾ãšã¯å®‰å…¨ãªå ´æ‰€ã‹ã‚‰è¦³å¯Ÿã™ã‚‹", type: "careful" },
    { id: "ki2", q: "ç‰©éŸ³ãŒã—ãŸã‚Šã€äººãŒå¤šã„ã¨ç–²ã‚Œã‚„ã™ã„", type: "sensitive" },
    { id: "ki3", q: "è‡ªåˆ†ã®æ„Ÿæƒ…ã‚’è¨€è‘‰ã§ä¼ãˆã‚‹ã®ãŒè‹¦æ‰‹ã ", type: "internal" },
    { id: "ki4", q: "æ±ºã¾ã£ãŸãƒ«ãƒ¼ãƒãƒ³ãŒå´©ã‚Œã‚‹ã¨ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚Šã‚„ã™ã„", type: "routine" },
    // ...ã“ã“ã«15å•ã¾ã§è¿½åŠ ...
];

const kaQuestions = [
    { id: "ka1", q: "æœã®ã‚¿ã‚°ã‚„é´ä¸‹ã®ç¸«ã„ç›®ã‚’ã²ã©ãå«ŒãŒã‚‹", type: "tactile" },
    { id: "ka2", q: "è©±ã—å£°ãŒã–ã‚ã¤ã„ã¦ã„ã‚‹ã¨æŒ‡ç¤ºãŒå±Šã‹ãªã„", type: "auditory" },
    { id: "ka3", q: "è¤‡æ•°ã®æŒ‡ç¤ºã‚’ä¸€åº¦ã«å‡ºã™ã¨æ··ä¹±ã™ã‚‹", type: "memory" },
    { id: "ka4", q: "é›†ä¸­ã™ã‚‹ã¨å‘¼ã³ã‹ã‘ã«å…¨ãæ°—ã¥ã‹ãªã„", type: "focus" },
    // ...ã“ã“ã«15å•ã¾ã§è¿½åŠ ...
];

// --- åˆæœŸåŒ– ---
function init() {
    const miList = document.getElementById('mi-list');
    miQuestions.forEach((q, i) => {
        miList.innerHTML += `<label><input type="checkbox" class="mi-check" data-cat="${q.cat}"> ${q.q} (${q.cat})</label>`;
    });

    const kiList = document.getElementById('ki-list');
    kiQuestions.forEach((q, i) => {
        kiList.innerHTML += `<div class="question-group"><span class="q-title">${q.q}</span>
            <label><input type="radio" name="${q.id}" value="yes"> å½“ã¦ã¯ã¾ã‚‹</label>
            <label><input type="radio" name="${q.id}" value="no"> å½“ã¦ã¯ã¾ã‚‰ãªã„</label></div>`;
    });

    const kaList = document.getElementById('ka-list');
    kaQuestions.forEach((q, i) => {
        kaList.innerHTML += `<div class="question-group"><span class="q-title">${q.q}</span>
            <label><input type="radio" name="${q.id}" value="yes"> å½“ã¦ã¯ã¾ã‚‹</label>
            <label><input type="radio" name="${q.id}" value="no"> å½“ã¦ã¯ã¾ã‚‰ãªã„</label></div>`;
    });
}
init();

// --- è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ ---
let status = { mi: false, ki: false, ka: false };

function analyzeMI() {
    const checked = document.querySelectorAll('.mi-check:checked');
    if(checked.length === 0) return alert("ã„ãã¤ã‹é¸ã‚“ã§ã¿ã¦ã­");
    let results = {};
    checked.forEach(c => results[c.dataset.cat] = (results[c.dataset.cat] || 0) + 1);
    const top = Object.keys(results).sort((a,b) => results[b] - results[a])[0];
    
    document.getElementById('mi-result').innerHTML = `<h4>ğŸŒŸ ä»Šã®å¼·ã¿ï¼š${top}çš„çŸ¥èƒ½</h4><p>${top}ã®åŠ›ã‚’å…¥ã‚Šå£ã«ã™ã‚‹ã¨ã€æœ¬äººã®ã‚„ã‚‹æ°—ãŒå¼•ãå‡ºã•ã‚Œã‚„ã™ã„ã§ã™ã€‚</p>`;
    document.getElementById('mi-result').style.display = 'block';
    status.mi = true; checkTotalReady();
}

function analyzeKi() {
    document.getElementById('ki-result').innerHTML = `<h4>ğŸƒ æ°—è³ªã®å‚¾å‘</h4><p>ç¹Šç´°ã§ä¸å¯§ãªè¦³å¯ŸåŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚æ€¥ã‹ã•ãšã€Œå¾…ã¤ã€ä¼´èµ°ãŒéµã«ãªã‚Šã¾ã™ã€‚</p>`;
    document.getElementById('ki-result').style.display = 'block';
    status.ki = true; checkTotalReady();
}

function analyzeKa() {
    document.getElementById('ka-result').innerHTML = `<h4>ğŸ  ç’°å¢ƒãƒ»å®Ÿè¡Œæ©Ÿèƒ½</h4><p>æƒ…å ±ã®æ•´ç†ã«å·¥å¤«ãŒå¿…è¦ã§ã™ã€‚è¦–è¦šçš„ãªæ‰‹ãŒã‹ã‚Šã‚’å¢—ã‚„ã™ç’°å¢ƒèª¿æ•´ãŒæœ‰åŠ¹ã§ã™ã€‚</p>`;
    document.getElementById('ka-result').style.display = 'block';
    status.ka = true; checkTotalReady();
}

function checkTotalReady() {
    if(status.mi && status.ki && status.ka) {
        document.getElementById('total-tab-btn').disabled = false;
        document.getElementById('total-tab-btn').innerHTML = "ğŸ“Š ç·åˆè¨ºæ–­ (æº–å‚™å®Œäº†!)";
    }
}

function generateTotalDiagnosis() {
    const summary = document.getElementById('total-summary');
    summary.innerHTML = `
        <div class="summary-section">
            <h4 style="color:var(--mi-color)">ã€å¼·ã¿ã€‘ã®ã¾ã¨ã‚</h4>
            <p>${document.getElementById('mi-result').innerText.split('çŸ¥èƒ½')[1]}</p>
        </div>
        <div class="summary-section">
            <h4 style="color:var(--ki-color)">ã€æ°—è³ªã€‘ã®ã¾ã¨ã‚</h4>
            <p>æ…é‡ã§æ€æ…®æ·±ãã€ç´å¾—æ„Ÿã‚’å¤§åˆ‡ã«ã™ã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚</p>
        </div>
        <div class="summary-section">
            <h4 style="color:var(--ka-color)">ã€ç’°å¢ƒã€‘ã®ã¾ã¨ã‚</h4>
            <p>æ„Ÿè¦šåˆºæ¿€ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã€ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªã‚’è£œã†å·¥å¤«ãŒå¿…è¦ã§ã™ã€‚</p>
        </div>
        <div style="background: white; padding: 20px; border-radius: 15px; border: 2px dashed var(--to-color);">
            <h4>ğŸ’ çµ±åˆã•ã‚ŒãŸä¼´èµ°ãƒ’ãƒ³ãƒˆ</h4>
            <p><b>ã€Œå¼·ã¿ã‚’æ´»ã‹ã—ãŸç’°å¢ƒèª¿æ•´ã€</b>ã‚’è¡Œã„ã¾ã—ã‚‡ã†ã€‚ä¾‹ãˆã°ã€${document.getElementById('mi-result').innerText.split('ï¼š')[1].split('çš„')[0]}çš„ãªè¦ç´ ã‚’å–ã‚Šå…¥ã‚ŒãŸæ‰‹é †æ›¸ã‚’ä½œæˆã—ã€æœ¬äººãŒä¸€äººã§ç¢ºèªã§ãã‚‹çŠ¶æ³ã‚’ä½œã‚‹ã“ã¨ã§ã€æ°—è³ªã®ä¸å®‰ã‚’è§£æ¶ˆã—ã€å®Ÿè¡Œæ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚</p>
        </div>
    `;
}

// ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        if(btn.disabled) return;
        document.querySelectorAll('.tab-btn, .tab-content').forEach(el => el.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
        if(btn.dataset.tab === 'total') generateTotalDiagnosis();
    });
});
</script>

</body>
</html>
